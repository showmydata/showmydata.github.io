---
layout: post
title: "2022春-计网-第4讲"
categories: 
  - Courses
tags:
  - 课程学习
  - 计算机网络
last_modified_at: 2022-03-04T22:10:52+08:00u
---

## 物理层(1)

**物理层功能**：

- 实现比特流传输
- 比特编码
- 数据率
- 比特同步
- 接口特性
  - 机械特性、电气特性、功能特性、规程特性
  - 时钟同步
- 传输模式
  - 单工、半双工、全双工

**物理层接口**：

- 数据终端设备（DTE）
  - 数据处理
  - 信源或信宿
- 数据电路终结设备（DCE）
  - 在DTE和传输线路之间提供信号变换和编码功能
  - 调制解调器（Modem），网络接口卡（NIC）
  - 在物理介质上传输比特
  - 与DTE之间交换数据和控制信息
- 物理层协议需要约定DTE和DCE间、DCE与物理介质间的接口特性

**常见数据通信术语**：

- 数据（data）：传送消息的实体
- 信号（signal）：数据的电气或电磁的表示
- “模拟的”（analogous）：参数的取值是连续的
- “数字的”（digital）：参数的取值是离散的
- 码元（code）：信号基本波形（信号基本单元）
- 频带（Spectrum）：信号频率范围
- 带宽（Bandwidth）：有效带宽
- 数据通信方式：单工、半双工、全双工
- 并行通信 vs 串行通信

**异步通信 vs 同步通信**

> 发送器（transmitter，通常简记为Tx）
>
> 接收器（receiver，通常记为Rx）
>
> 两者之间的时钟同步问题：异步 or 同步

- 异步通信
  - 每次传输一个字符：5 to 8 bits
  - 发送器和接收器分别使用各自独立的时钟
  - 只需在每个字符传输期间保证时钟同步
  - 两个字符之间时钟不必同步
  - **每个字符**传输开始重新同步时钟
    - 字符间间隔时间不一致
    - 空闲状态下，接收器检测1到0的跳变
    - 然后开始采样（一个字符长度）
    - 回归空闲状态
    - 然后再次检测1到0的跳变
  - 简单、低成本、开销大
  - 适合短距离、低速率、字符间间隔时间大（如键盘）等通信场景
- 同步通信
  - **（大）数据块**传输
  - 时钟必须同步
  - 可以使用单独的时钟线
    - 适合短距离
    - 时钟信号损伤
  - 将时钟信号嵌入到数据信号中
    - 曼彻斯特编码
    - 载波频率
  - 比异步通信更高效

**模拟通信 vs 数字通信**：

- 区别在于信道中传输的是
  - 模拟信号
  - 数字信号
- 信源编码：
  - 将信源产生的模拟数据在数字通信系统中传输
  - 典型的信源编码：PCM
    - 步骤：采样 - 量化 - 编码
      - 采样：用一系列在时间上离散的采样值，代替时间上连续的模拟数据，即实现时间上的离散化
      - 量化：使采样值在取值上离散化
      - 编码：将量化后的采样值用一定位数的二进制数码来表示
      - 如果量化级数为N，则每个采样值就编码为$log_2N$为二进制编码

**扩频**

- 将数据的传输（调制）扩展到更宽的频带上
- 制造干扰使通信不易被窃听
- 调频（Frequency hoping）
  - 载波信号频率在一组频率上随机（某种规律）跳变
- 直接序列扩频（Direct Sequence Spread Spectrum）
  - 通过传输多个比特表示原始信息的1个比特
  - 碎码序列

**物理介质**

- 导引型传输介质
  - 架空明线：易受天气和外界电磁干扰，对外界噪声敏感，带宽有限
  - 双绞线：
    - 主要用于基带传输
    - 屏蔽双绞线STP（Shielded Twisted Pair）
    - 非屏蔽双绞线UTP（Unshielded Twisted Pair）
  - 同轴电缆：主要用于频带传输
  - 光纤：
    - 基本原理：光的全反射
    - 分类：多模光纤和单模光纤
- 非导引型传输介质：
  - 自由空间：
    - 无线电传播途径
    - 不同频段具有不同传播特性
  - 地波传播
    - 频率较低（大约2MHz以下）的电磁波趋于沿地球表面传播
    - 有一定的绕射能力
    - 在低频和甚低频段，地波传播距离可以超过数百米或数千公里
  - 天波传输
    - 电离层，距离地表约60~400km高度
    - 频率较高（大约在2~30MHz之间）的电磁波会被电离层反射
    - 电离层的密度和厚度随时间随机变化
    - 电磁波可以传播10000km以上
    - 随参信道
  - 视线传播
    - 频率高于30MHz的电磁波将穿透电离层，不会被反射回来
    - 沿地面绕射能力也很弱
    - 通常采用视线无障碍的点对点直线传播
    - 可以设立地面中继站或卫星中继站进行接力传输

**信道分类与模型**：

- 狭义信道：信号传输介质
- 广义信道：包括信号传输介质和通信系统的一些变换装置，如发送设备、接收设备、天线、调解器等

**信道传输特性**：

- 恒参信道传输特性
  - 各种有线信道和部分无线信道，如微波视线传播链路和卫星链路等，都术语恒参信道
  - 理想的恒参信道是一个理想的无失真传输信道
  - 对信号幅值产生固定的衰减
  - 对信号输出产生固定的时延
- 随参信道传输特性
  - 许多无线信道都是随参信道
  - 信号的传输衰减随时间随机变化
  - 信号的传输时延随时间随机变化
  - 存在多径传播现象

**信道容量**：

- 信道无差错传输信息的最大平均信息速率
- 奈奎斯特（Nyquist）信道容量公式
  - 理想无噪声信道的信道容量：$C = 2Blog_2M$
    - C为信道容量，单位为bps
    - B为信道带宽，单位为Hz
    - M为进制数，即信号状态数
    - 理想信道的极限容量
- 香农（Shannon）信道容量公式
  - 有噪声信道的信道容量：$C = Blog_2(1+S/N)$
    - S/N为信噪比，常以分贝（dB）为单位描述，而公式里是$Signalpower/Noisepower$
    - $(S/N)_{dB} = 10log_{10}(Signal power/Noise power)$

**多路复用**：

- 多路复用（multiplexing），简称复用，是通信技术中的基本概念
- 链路/网络资源（如带宽）划分为“资源片”
- 将资源片分配给各种“呼叫”（calls）
- 每路呼叫独占分配到的资源片进行通信
- 资源片可能“闲置”（idle）（无共享）
- 典型多路复用方法
  - 频分多路复用（frequency division multiplexing-FDM）
    - 各用户占用不用的带宽资源（注：此处的“带宽”单位是Hz）
  - 时分多路复用（time division multiplexing-TDM）
    - 将时间划分为一段段等长的时分复用帧（TDM帧），每个用户在每个TDM帧中占用固定序号的时隙
    - 每用户所占用的时隙是周期性出现（其周期就是TDM帧的长度）
    - 时分复用的所有用户是在不同的事件占用相同的频带宽度

- 波分多路复用（Wavelength division multiplexing-WDM）

  - 光的频分复用，利用不同的波长

- 码分多路复用（Code division multiplexing-CDM）

  - 广泛应用于无线链路共享（如蜂窝网，卫星通信等）

  - 每个用户分配一个唯一的m bit码片序列，其中0用-1表示，1用+1表示

  - 各用户使用相同频率载波，利用各自码片序列编码数据

  - $编码信号 = (原始数据) \times (码片序列)$

    - 如发送比特1（+1），则发送自己的m bit码片序列
    - 如发送比特0（-1），则发送该码片序列的m bit码片序列的反码

  - 各用户码片序列相互正交

    - $$
      \frac{1}{m}S_i \cdot S_j = \left\{
      \begin{aligned}
      1 &,& i = j \\
      0 &,& i\ne j
      \end{aligned}
      \right.
      $$

    - $$
      \frac{1}{m}S_i \cdot \overline{S_j} = \left\{
      \begin{aligned}
      -1 &,& i = j \\
      0 &,& i\ne j
      \end{aligned}
      \right.
      $$

  - 令${d_j}$为原始数据序列，各用户的叠加向量为

    - $P = \sum\limits^N_{i=1}d_i S_i$

  - 解码：码片序列与编码信号的内积

    - $$
      d_i = 
      \frac{1}{m}S_i \cdot P = \left\{
      \begin{aligned}
      -1 &,& S_i \ P \\
      -1 &,& \overline{S_i} \in P \\
      0 &,& S_i,S_j \notin P
      \end{aligned}
      \right.
      $$

