---
layout: post
title: "2022春-计网-第14讲"
categories: 
  - Courses
tags:
  - 课程学习
  - 计算机网络
last_modified_at: 2022-04-14T22:10:52+08:00u
---

### 路由算法

#### 分类

- 静态路由 vs 动态路由
  - 静态路由：
    - 手工配置；
    - 路由更新慢；
    - 优先级高
  - 动态路由：
    - 路由更新快
    - 定期更新
    - 及时响应链路费用或网络拓扑变化
- 全局信息 vs 分散信息
  - 全局信息：
    - 所有路由器掌握完整的网络拓扑和链路费用信息
    - 链路状态路由算法LS
  - 分散信息
    - 路由器只掌握物理相连的邻居以及链路费用
    - 邻居间信息交换、运算的迭代过程
    - 距离向量路由算法DV

#### 链路状态路由算法

- Dijkstra算法
- 所有结点（或路由器）掌握网络拓扑和链路费用
  - 通过链路状态广播（泛洪）
  - 所有结点拥有相同信息
- 计算从一个结点（源）到达所有其它结点的最短路径
  - 获得该结点的转发表
- 迭代：K次迭代后，得到到达K个目的结点的最短路径
- 算法复杂性：n个结点
  - n(n+1)/2次比较：$O(N^2)$
  - 更高效的实现：$O(NlogN)$
- 存在震荡可能
  - 假设链路费用是该链路承载的通信量
  - 则可能反复横跳

#### 距离向量路由算法

- Bellman-Ford算法，动态规划
- 结点x维护距离向量$D_x=[D_x(y):y\in N]$
- 核心思想
  - 每个结点不定时地将其自身的DV估计发送给其邻居
  - 当x接收到邻居的新的DV估计时，即依据B-F更新其自身的距离向量估计
    - $D_x(y)\leftarrow min_v\{c(x,v)+D_v(y)\}\,for\,each\,node\,y\in N$
- 异步迭代
  - 引发每次局部迭代的因素
    - 局部链路费用改变
    - 来自邻居的DV更新
- 分布式：
  - 每个结点只当DV变化时才通告给邻居
    - 邻居在必要时（其DV更新后发生改变）再通告他们的邻居
- 无穷计数问题
  - 坏消息传播慢
  - 毒性逆转
    - 定义最大度量16跳步
    - 无法解决复杂网络中的环路无穷计数问题

#### LS与DV算法比较

- 报文交换复杂性
  - LS：对于n个结点，E条链路的网络，发送报文为O(nE)级
  - DV：只在邻居之间交换DV
- 收敛速度
  - LS：时间复杂度为$O(N^2)$，信息复杂度$O(NE)$
    - 可能发生震荡
  - DV：收敛时间不定
    - 可能出现路由环路
    - 无穷计数问题

#### 层次路由

- 将任意规模网络抽象为一个图计算路由-过于理想化
  - 标识所有路由器
  - “扁平”网络
  - 实际网络（尤其是大规模网络）中，不可行
- 网络规模：考虑数亿目的结点的网络
  - 路由表几乎无法存储
  - 路由计算过程的信息，交换量巨大，会淹没链路
- 管理自治：
  - 每个网络的管理可能都期望自主控制其网内的路由
  - 互联网=网络之网络
- 自治系统AS（autonomous systems）
  - 聚合路由器为一个区域
  - 同一AS内的路由器运行相同的路由协议（算法）
    - 自治系统内部路由协议（intra-AS路由协议）
    - 不同自治系统内的路由器可以运行不同的AS内部路由协议
  - 网关路由器（gateway router）
    - 位于AS边缘
    - 通过链路连接其它AS的网关路由器

